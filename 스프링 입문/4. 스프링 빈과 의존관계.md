 # μ¤ν”„λ§ μ…λ¬Έ μ •λ¦¬ #4

## β” λ©ν‘
μ¤ν”„λ§ λΉκ³Ό μμ΅΄κ΄€κ³„μ— λ€ν•΄ μ•μ•„λ³΄μ.

<br/>

## β” λ©μ°¨
μ¤ν”„λ§ λΉμ„ λ“±λ΅ν•λ” 2κ°€μ§€ λ°©λ²•

* μ»΄ν¬λ„νΈ μ¤μΊ”κ³Ό μλ™ μμ΅΄κ΄€κ³„ μ„¤μ •
* μλ°” μ½”λ“λ΅ μ§μ ‘ μ¤ν”„λ§ λΉ λ“±λ΅ν•κΈ°

<br/>

## π’΅ 4-1 μ»΄ν¬λ„νΈ μ¤μΊ”κ³Ό μλ™ μμ΅΄κ΄€κ³„ μ„¤μ •

### **νμ› μ»¨νΈλ΅¤λ¬**

```java
public class MemberController {
    private final MemberService memberService = new MemberService();
}
```

### **νμ› μ„λΉ„μ¤**
```java
public class MemberService {
    private final MemberRepository memberRepository = new MemoryMemberRepository();
    ...
}
```

νμ› κΈ°λ¥μ„ κµ¬ν„ν•κΈ° μ„ν•΄μ„λ” `MemberController` μ—μ„λ” `MemberService` μ™€ `memberRepository` λ¥Ό μ‚¬μ©ν•΄μ•Όν•λ‹¤.

μ„ μ½”λ“λ¥Ό λ³΄λ©΄ `MemberController` μ—μ„ `MemberService` μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•κ³  `MemberService` μ—μ„λ” `memberRepository`  μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•λ‹¤

 λ§μ•½ λ‹¤λ¥Έ μ»¨νΈλ΅¤λ¬λ‚ μ„λΉ„μ¤μ—μ„ `MemberService` , `memberRepository` λ¥Ό μ‚¬μ©ν•λ‹¤λ©΄ λ‹¤μ‹ μƒλ΅μ΄ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•΄μ•Όν•κΈ° λ•λ¬Έμ— λ§¤μ° λΉ„ν¨μ¨μ μ΄λ‹¤.

 λ”°λΌμ„ μ°λ¦¬λ” μ•„λ μ½”λ“μ™€ κ°™μ΄ **μ¤ν”„λ§ μ»¨ν…μ΄λ„**μ— μ»¨νΈλ΅¤λ¬, μ„λΉ„μ¤, λ¦¬ν¬μ§€ν† λ¦¬λ¥Ό **μ¤ν”„λ§ λΉ**μΌλ΅ λ“±λ΅ν•΄μ„ μ‚¬μ©ν•΄μ•Όν•λ‹¤.

<br/>

### **νμ› μ»¨νΈλ΅¤λ¬**

 ```java
@Controller
public class MemberController {

    private final MemberService memberService;

    //
    @Autowired
    public MemberController(MemberService memberService) {
        this.memberService = memberService;
    }
    ...
}
```

### **νμ› μ„λΉ„μ¤**

 ```java
@Service
public class MemberService {

    private final MemberRepository memberRepository;

    @Autowired
    public MemberService(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }
    ...
}
```

### **νμ› λ¦¬ν¬μ§€ν† λ¦¬**

 ```java
@Repository
public class MemoryMemberRepository implements MemberRepository{
    ...
}
```

μ»¨νΈλ΅¤λ¬, μ„λΉ„μ¤, λ¦¬ν¬μ§€ν† λ¦¬ ν΄λμ¤ μ„μ— `@Controller`, `@Service`, `@Repository` μ• λ…Έν…μ΄μ…μ΄ λ¶™μ–΄μλ” κ²ƒμ„ ν™•μΈν•  μλ”λ°, μ΄λ“¤μ€ ν•΄λ‹Ή ν΄λμ¤λ¥Ό μ¤ν”„λ§ λΉμΌλ΅ μλ™ λ“±λ΅μ‹μΌμ¤€λ‹¤.

`@Component` μ• λ…Έν…μ΄μ…μ΄ μμΌλ©΄ μ¤ν”„λ§ λΉμΌλ΅ μλ™ λ“±λ΅λλ”λ° μ„μ 3κ°€μ§€ μ• λ…Έν…μ΄μ…μ€ `@Component` λ¥Ό ν¬ν•¨ν•κΈ° λ•λ¬Έμ— λ“±λ΅λλ” κ²ƒμ΄λ‹¤.

μƒμ„±μμ— `@Autowired` μ• λ…Έν…μ΄μ…μ΄ μμΌλ©΄ μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅λ  λ• μ¤ν”„λ§μ΄ μ—°κ΄€λ κ°μ²΄λ¥Ό μ¤ν”„λ§ μ»¨ν…μ΄λ„μ—μ„ μ°Ύμ•„ λ„£μ–΄μ¤€λ‹¤. μ΄λ ‡κ² κ°μ²΄ μμ΅΄κ΄€κ³„λ¥Ό μ™Έλ¶€μ—μ„ λ„£μ–΄μ£Όλ” κ²ƒμ„ DI(Dependency Injection), μμ΅΄μ„± μ£Όμ…μ΄λΌ ν•λ‹¤.

### **μ°Έκ³ μ‚¬ν•­**

>* μƒμ„±μμ— @Autowired λ¥Ό μ‚¬μ©ν•λ©΄ κ°μ²΄ μƒμ„± μ‹μ μ— μ¤ν”„λ§ μ»¨ν…μ΄λ„μ—μ„ ν•΄λ‹Ή μ¤ν”„λ§ λΉμ„ μ°Ύμ•„μ„ μ£Όμ…ν•λ‹¤. μƒμ„±μκ°€ 1κ°λ§ μμΌλ©΄ @Autowired λ” μƒλµν•  μ μλ‹¤.
>* μ¤ν”„λ§μ€ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— μ¤ν”„λ§ λΉμ„ λ“±λ΅ν•  λ•, κΈ°λ³ΈμΌλ΅ μ‹±κΈ€ν†¤μΌλ΅ λ“±λ΅ν•λ‹¤(μ μΌν•κ² ν•λ‚λ§
λ“±λ΅ν•΄μ„ κ³µμ ν•λ‹¤) λ”°λΌμ„ κ°™μ€ μ¤ν”„λ§ λΉμ΄λ©΄ λ¨λ‘ κ°™μ€ μΈμ¤ν„΄μ¤λ‹¤. μ„¤μ •μΌλ΅ μ‹±κΈ€ν†¤μ΄ μ•„λ‹κ² μ„¤μ •ν•  μ
μμ§€λ§, νΉλ³„ν• κ²½μ°λ¥Ό μ μ™Έν•λ©΄ λ€λ¶€λ¶„ μ‹±κΈ€ν†¤μ„ μ‚¬μ©ν•λ‹¤.
>* μ»΄ν¬λ„νΈ μ¤μΊ”μ λ²”μ„ : @SpringBootApplicationμ ν•μ„ ν¨ν‚¤μ§€μ μ»΄ν¬λ„νΈλ§ μ¤μΊ”ν•λ‹¤.


<br/>

## π’΅ 4-2 μλ°” μ½”λ“λ΅ μ§μ ‘ μ¤ν”„λ§ λΉ λ“±λ΅ν•κΈ°

μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— μ¤ν”„λ§ λΉμ„ λ“±λ΅ν•λ” λ°©λ²•μ€ λ‘κ°€μ§€κ°€ μλ‹¤.

μ„μ—μ„ μ„¤λ…ν• μ»΄ν¬λ„νΈ μ¤μΊ” λ°©μ‹κ³Ό μ΄λ²μ— μ„¤λ…ν•  μλ°” μ½”λ“λ΅ μ§μ ‘ λ“±λ΅ν•λ” λ°©μ‹μ΄λ‹¤.

μλ°” μ½”λ“λ΅ μ§μ ‘ λ“±λ΅ν•κΈ° μ„ν•΄ κΈ°μ΅΄ μ½”λ“μ—μ„ `@Service`, `@Repository`, `@Autowired` μ• λ…Έν…μ΄μ…μ„ μ κ±°ν• ν›„ `SpringConfig` ν΄λμ¤λ¥Ό μƒμ„±ν•λ‹¤.

### **SpringConfig**

```java
@Configuration
public class SpringConfig {
    @Bean
    public MemberService memberService(){
        return new MemberService(memberRepository());
    }

    @Bean
    public MemberRepository memberRepository(){
        return new MemoryMemberRepository();
    }
}
```

`@Configuration` : ν•΄λ‹Ή ν΄λμ¤μ—μ„ 1κ° μ΄μƒμ Beanμ„ μƒμ„±ν•κ³  μμμ„ λ…μ‹ν•λ” μ• λ…Έν…μ΄μ…μ΄λ‹¤.

`@Bean` : νΉμ • ν΄λμ¤λ¥Ό BeanμΌλ΅ λ“±λ΅ν•  λ• μ‚¬μ©ν•λ” μ• λ…Έν…μ΄μ…μ΄λ‹¤. λ°λ“μ‹ `@Configuration` μ• λ…Έν…μ΄μ…κ³Ό ν•¨κ» μ‚¬μ©ν•΄μ•Όν•λ‹¤.

μ—¬κΈ°μ„λ” ν–¥ν›„ λ©”λ¨λ¦¬ λ¦¬ν¬μ§€ν† λ¦¬λ¥Ό λ‹¤λ¥Έ λ¦¬ν¬μ§€ν† λ¦¬λ΅ λ³€κ²½ν•  μμ •μ΄λ―€λ΅, μ»΄ν¬λ„νΈ μ¤μΊ” λ°©μ‹ λ€μ‹ μ—
μλ°” μ½”λ“λ΅ μ¤ν”„λ§ λΉμ„ μ„¤μ •ν•μ€λ‹¤.

### **μ°Έκ³ μ‚¬ν•­**

>* XMLλ΅ μ„¤μ •ν•λ” λ°©μ‹λ„ μμ§€λ§ μµκ·Όμ—λ” μ μ‚¬μ©ν•μ§€ μ•μΌλ―€λ΅ μƒλµν•λ‹¤.
>* DIμ—λ” ν•„λ“ μ£Όμ…, setter μ£Όμ…, μƒμ„±μ μ£Όμ… μ΄λ ‡κ² 3κ°€μ§€ λ°©λ²•μ΄ μλ‹¤. μμ΅΄κ΄€κ³„κ°€ μ‹¤ν–‰μ¤‘μ—
λ™μ μΌλ΅ λ³€ν•λ” κ²½μ°λ” κ±°μ μ—†μΌλ―€λ΅ **μƒμ„±μ μ£Όμ…μ„ κ¶μ¥**ν•λ‹¤. μ„μ—μ„ λ³΄μ—¬μ¤€ λ°©μ‹μ€ μƒμ„±μ μ£Όμ…μ΄λ‹¤.
>* μ‹¤λ¬΄μ—μ„λ” μ£Όλ΅ μ •ν•ν™”λ μ»¨νΈλ΅¤λ¬, μ„λΉ„μ¤, λ¦¬ν¬μ§€ν† λ¦¬ κ°™μ€ μ½”λ“λ” μ»΄ν¬λ„νΈ μ¤μΊ”μ„ μ‚¬μ©ν•λ‹¤.
κ·Έλ¦¬κ³  μ •ν•ν™” λμ§€ μ•κ±°λ‚, μƒν™©μ— λ”°λΌ κµ¬ν„ ν΄λμ¤λ¥Ό λ³€κ²½(λ©”λ¨λ¦¬ λ¦¬ν¬μ§€ν† λ¦¬μ™€ κ°™μ€ κ²½μ°)ν•΄μ•Ό ν•λ©΄ μ„¤μ •μ„ ν†µν•΄ μ¤ν”„λ§ λΉμΌλ΅
λ“±λ΅ν•λ‹¤.
>* μ£Όμ  : `@Autowired` λ¥Ό ν†µν• DIλ” `memberConroller` , `memberService` λ“±κ³Ό κ°™μ΄ μ¤ν”„λ§μ΄ κ΄€λ¦¬ν•λ”
κ°μ²΄μ—μ„λ§ λ™μ‘ν•λ‹¤. μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅ν•μ§€ μ•κ³  λ‚΄κ°€ μ§μ ‘ μƒμ„±ν• κ°μ²΄μ—μ„λ” λ™μ‘ν•μ§€ μ•λ”λ‹¤.

<br/>

# μ°Έκ³ 
* [μΈν”„λ° μ¤ν”„λ§ μ…λ¬Έ - μ½”λ“λ΅ λ°°μ°λ” μ¤ν”„λ§ λ¶€νΈ, μ›Ή MVC, DB μ ‘κ·Ό κΈ°μ ](https://www.inflearn.com)